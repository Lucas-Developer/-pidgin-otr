2005-05-27

	* otr-plugin.c:
	* gtk-dialog.c: Replace the OTR button in the button box if the
	user changes the button style (which causes gaim to remove all
	the buttons, and only replace its own).

	* gtk-dialog.c: Add a right-button context menu to the OTR
	button.  Currently, it only has one entry, which has the same
	effect as clicking the button; eventually, you'll be able to do
	other things here, like getting the info currently in the
	"Private Connection Established" dialog.  This also opens the
	door to making the button functionality available if the user
	hides his buttons completely (if we can find a place to make
	this context menu appear; say, on some F-key?).

	* otr-plugin.c (notify_cb): Initialize gaimlevel so that -Wall
	stops complaining, even though there's no situation in which it
	can actually get used while unset.

2005-05-19

	* otr-plugin.h:
	* otr-plugin.c (otrg_plugin_proto_supports_otr): New function to
	check whether a given protocol supports OTR.  Right now,
	everything except IRC is assumed to support it.

	* otr-plugin.c (supply_extended_menu): Don't add the "OTR
	Settings" menu option to the per-buddy menu if this buddy's
	protocol doesn't support OTR.

	* ui.c (otrg_ui_find_policy): If the protocol doesn't support
	OTR, always return a policy of OTRL_POLICY_NEVER.

2005-05-03

	* README:
	* packaging/fedora/gaim-otr.spec:
	* packaging/windows/gaim-otr.nsi:
	* configure.ac: Change version to 2.0.2

	* packaging/debian: Remove this directory, as Thibaut VARENE
	<varenet@debian.org> is now responsible for the debian packages.

2005-03-23

	* otr-plugin.c (process_receiving_im): If libotr tells us to
	ignore this received message (because it's an internal protocol
	message), it's not enough just to return 1 from this function,
	since other plugins that catch receiving-im-msg may later return
	0, and gaim only checks the return value from the last such
	plugin.  So we additionally set the message to NULL.

2005-03-21

	* gtk-ui.c (otrg_gtk_ui_config_buddy):
	* otr-plugin.c (supply_extended_menu): For consistency, use "OTR
	Settings" instead of "OTR Options" everywhere.

2005-03-08

	* gtk-dialog.c (otrg_gtk_dialog_private_key_wait_start): Move a
	variable declaration to the right place.

2005-03-01

	Initial autoconfiscation, thanks to Greg Troxel <gdt@ir.bbn.com>.
